From: Berk Cakar <berk2238@hotmail.com>
Date: Fri, 23 Jul 2021 19:45:29 +0300
Subject: [PATCH] Adapt to eOS 6 settings schema

---
 src/Application.vala | 7 +++++--
 1 file changed, 5 insertions(+), 2 deletions(-)

diff --git a/src/Application.vala b/src/Application.vala
index 777d8ce..8fbcf9d 100644
--- a/src/Application.vala
+++ b/src/Application.vala
@@ -128,8 +128,11 @@ public class DesktopFolderApp : Gtk.Application {
             if (f_check_elementary.query_exists ()) {
                 // it seems we can't control an error reading settings!!
                 // loki -> GLib.Settings elementary_files_settings = new GLib.Settings ("org.pantheon.files.preferences");
-                GLib.Settings elementary_files_settings = new GLib.Settings ("io.elementary.files.preferences");
-                single_click = elementary_files_settings.get_boolean ("single-click");
+
+                // single-click option is not available in elementary-files 6.0.0. So, set it to false by default.
+                // GLib.Settings elementary_files_settings = new GLib.Settings ("io.elementary.files.preferences");
+                // single_click = elementary_files_settings.get_boolean ("single-click");
+                single_click = false;
             }
         } catch (Error error) {
             // we don't have any files settings, using default config
-- 
2.24.3 (Apple Git-128)
