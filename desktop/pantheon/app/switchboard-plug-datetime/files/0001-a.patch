From 80f59467dbe2d5f9f3ae4f77fd00db6db9dd194b Mon Sep 17 00:00:00 2001
From: =?UTF-8?q?Berk=20=C3=87akar?= <berk.cakar@ug.bilkent.edu.tr>
Date: Sat, 17 Apr 2021 14:25:57 +0300
Subject: [PATCH 1/1] a
MIME-Version: 1.0
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit

Signed-off-by: Berk Çakar <berk.cakar@ug.bilkent.edu.tr>
---
 src/DateTime1.vala | 2 +-
 src/MainView.vala  | 2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

diff --git a/src/DateTime1.vala b/src/DateTime1.vala
index dc0343a..4204272 100644
--- a/src/DateTime1.vala
+++ b/src/DateTime1.vala
@@ -18,7 +18,7 @@
  * Authored by: Corentin Noël <corentin@elementaryos.org>
  */

-[DBus (name = "org.freedesktop.timedate1")]
+[DBus (name = "org.mate.SettingsDaemon.DateTimeMechanism")]
 interface DateTime.DateTime1 : Object {
     public abstract string Timezone {public owned get;}
     public abstract bool LocalRTC {public get;}
diff --git a/src/MainView.vala b/src/MainView.vala
index 4c78d4a..db96d3e 100644
--- a/src/MainView.vala
+++ b/src/MainView.vala
@@ -207,7 +207,7 @@ public class DateTime.MainView : Gtk.Grid {
         });

         try {
-            datetime1 = Bus.get_proxy_sync (BusType.SYSTEM, "org.freedesktop.timedate1", "/org/freedesktop/timedate1");
+            datetime1 = Bus.get_proxy_sync (BusType.SESSION, "org.mate.SettingsDaemon.DateTimeMechanism", "/");
         } catch (IOError e) {
             critical (e.message);
         }
--
2.24.3 (Apple Git-128)
